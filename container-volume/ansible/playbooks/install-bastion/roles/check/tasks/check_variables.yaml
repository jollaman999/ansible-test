- name: Check required variables
  fail: 
    msg: "Required variable not found: {{ item }}"
  when: vars[item] is not defined or vars[item] == ''
  loop:
    - bastion_host
    - bastion_port
    - bastion_user
    - bastion_password
    - tunnel_manager_database_host
    - tunnel_manager_database_port
    - tunnel_manager_database_user
    - tunnel_manager_database_password
    - tunnel_manager_database_name
